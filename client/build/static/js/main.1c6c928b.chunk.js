(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(72)},53:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),i=a(15),s=(a(53),a(12)),o=a(13),u=a(11),m=a.n(u),f=a(14),d=a(9),p=a(8),b=a.n(p);var h=function(){var e=Object(n.useState)({entries:[]}),t=Object(d.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(function(){!function(){var e=Object(f.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()("/api/entries");case 2:t=e.sent,console.log(t.data),c(t.data);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),console.log(a),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"poem-box"},r.a.createElement("h2",{className:"title"},"Available Works"),r.a.createElement("ul",{className:"poem-list"},a.entries.map(function(e,t){return r.a.createElement("li",{key:"entry-".concat(t),className:"entry-title"},r.a.createElement(s.b,{to:"/entries/".concat(e.id)},e.title))})))),r.a.createElement("div",{className:"foot right-align"},r.a.createElement("p",null,"Created by William Bruntrager")))},v=a(19),E=function(e){return{user:e.user}};function x(e){var t=e.setTitle,a=e.draftTitle,n=e.setDraftTitle;return r.a.createElement("form",{className:"flex flex-child",onSubmit:function(e){e.preventDefault(),t(a)}},r.a.createElement("input",{className:"entry-title center-text flex-child",onChange:function(e){n(e.target.value)},value:a,placeholder:"Enter Title Here",autoFocus:!0}),r.a.createElement("input",{type:"submit",hidden:!0}))}var j=Object(i.b)(E)(function(e){var t=Object(n.useState)(""),a=Object(d.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),s=Object(d.a)(i,2),o=s[0],u=s[1],m=Object(n.useState)(""),f=Object(d.a)(m,2),p=f[0],h=f[1];if(!e.user.initialized)return null;Object(v.a)(e.user.profile)&&e.history.push("/signin");var E=function(t){t.preventDefault(),b.a.post("/api/entries/new",{title:o,body:p,email:e.user.profile.email}).then(e.history.push("/entries")),u(""),l(""),h("")};return r.a.createElement("div",{className:"composer"},r.a.createElement("div",{className:"flex-child flex full vertical ".concat(Object(v.a)(o)?"center":"stretch"),style:{flex:5}},Object(v.a)(o)?r.a.createElement(x,{setTitle:u,draftTitle:c,setDraftTitle:l}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"flex-child entry-title"},o),r.a.createElement("form",{style:{justifyContent:"space-between"},className:"flex flex-child",onSubmit:E},r.a.createElement("textarea",{autoFocus:!0,value:p,onChange:function(e){h(e.target.value)}})))),!Object(v.a)(o)&&r.a.createElement("div",{className:"sidebar flex-child flex vertical",style:{flex:1}},r.a.createElement("div",{className:"flex-child"},r.a.createElement("button",{className:"btn btn-white",onClick:E,type:"submit"},"Save"))))});var y=function(e){var t=e.match,a=Object(n.useState)({}),c=Object(d.a)(a,2),l=c[0],i=c[1];return Object(n.useEffect)(function(){!function(){var e=Object(f.a)(m.a.mark(function e(){var a,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params.id,e.next=3,b()("/api/entries/".concat(a));case 3:n=e.sent,i(n.data);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement("div",{className:"body"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"poem-box"},r.a.createElement("h2",{className:"title"},l.title),r.a.createElement("p",{style:{whiteSpace:"pre"}},l.body))))};var O=function(e){e.match;var t=Object(n.useState)({}),a=Object(d.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)(function(){!function(){var e=Object(f.a)(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()("/api/google/link");case 2:t=e.sent,l(t.data.url);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),r.a.createElement("div",{className:"composer"},r.a.createElement("div",{style:{height:"50vh"},className:"flex vertical flex-child"},r.a.createElement("p",{className:"entry-title center-text flex-child"},"Welcome! To write something, please ",r.a.createElement("a",{href:c},"sign in")," with your Google account."),r.a.createElement("p",{className:"entry-title center-text flex-child"},"Or you can just ",r.a.createElement(s.b,{to:"/entries"},"read")," the available works.")),r.a.createElement("div",{className:"foot right-align"},r.a.createElement("p",null,"Created by William Bruntrager")))},g=a(18),w=Object(g.b)("user/status");var N=Object(i.b)(E,{getStatus:function(){return function(e){return b.a.get("/api/users/status").then(function(t){var a=t.data;return e(w(a))}).catch(function(e){console.log("An error occurred")})}}})(function(e){var t=e.getStatus;return Object(n.useEffect)(function(){t()},[t]),r.a.createElement(s.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{path:"/",exact:!0,component:j}),r.a.createElement(o.a,{path:"/signin",exact:!0,component:O}),r.a.createElement(o.a,{path:"/entries",exact:!0,component:h}),r.a.createElement(o.a,{path:"/entries/:id",component:y})))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=a(23),S=a(42),T=Object(g.c)({initialized:!1},Object(k.a)({},w,function(e,t){return Object(S.a)({initialized:!0},t.payload)})),C=Object(g.a)({reducer:{user:T}});l.a.render(r.a.createElement(i.a,{store:C},r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.1c6c928b.chunk.js.map